<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC
        "-//Apache Software Foundation//DTD Struts Configuration 1.3//EN"
        "http://struts.apache.org/dtds/struts-config_1_3.dtd">

<struts-config>
    
    <!-- Form Bean Definitions -->
    <form-beans>
        <form-bean name="livreForm" type="model.LivreForm"/>
        <form-bean name="membreForm" type="model.MembreForm"/>
        <form-bean name="empruntForm" type="model.EmpruntForm"/>
    </form-beans>
    
    <!-- Global Forwards -->
    <global-forwards>
        <forward name="welcome" path="/index.jsp"/>
        <forward name="error" path="/error.jsp"/>
    </global-forwards>
    
    <!-- Action Mappings -->
    <action-mappings>
        
        <!-- Welcome Action -->
        <action path="/welcome" 
                type="controller.WelcomeAction" 
                scope="request">
            <forward name="success" path="/index.jsp"/>
            <forward name="error" path="/error.jsp"/>
        </action>
        
        <!-- Actions pour les Livres -->
        <action path="/listeLivres" 
                type="controller.ListeLivresAction" 
                name="livreForm" 
                scope="request">
            <forward name="success" path="/pages/listeLivres.jsp"/>
            <forward name="error" path="/error.jsp"/>
        </action>
        
        <!-- Actions pour les Membres -->
        <action path="/listeMembres" 
                type="controller.ListeMembresAction" 
                name="membreForm" 
                scope="request">
            <forward name="success" path="/pages/listeMembres.jsp"/>
            <forward name="error" path="/error.jsp"/>
        </action>
        
        <!-- Actions pour les Emprunts -->
        <action path="/listeEmprunts" 
                type="controller.ListeEmpruntsAction" 
                scope="request">
            <forward name="success" path="/pages/listeEmprunts.jsp"/>
            <forward name="error" path="/error.jsp"/>
        </action>
        
        <action path="/ajouterLivre" 
                type="controller.AjouterLivreAction" 
                name="livreForm" 
                scope="request">
            <forward name="success" path="/pages/ajouterLivre.jsp"/>
            <forward name="error" path="/error.jsp"/>
        </action>
        
        <action path="/ajouterMembre" 
                type="controller.AjouterMembreAction" 
                name="membreForm" 
                scope="request">
            <forward name="success" path="/pages/ajouterMembre.jsp"/>
            <forward name="error" path="/error.jsp"/>
        </action>
        
        <action path="/ajouterEmprunt" 
                type="controller.AjouterEmpruntAction" 
                name="empruntForm" 
                scope="request">
            <forward name="success" path="/pages/ajouterEmprunt.jsp"/>
            <forward name="error" path="/error.jsp"/>
        </action>
        
        <action path="/processAjouterLivre" 
                type="controller.ProcessAjouterLivreAction" 
                name="livreForm" 
                scope="request"
                validate="true"
                input="/ajouterLivre.do">
            <forward name="success" path="/listeLivres.do"/>
            <forward name="error" path="/ajouterLivre.do"/>
        </action>
        
        <action path="/processAjouterMembre" 
                type="controller.ProcessAjouterMembreAction" 
                name="membreForm" 
                scope="request"
                validate="true"
                input="/ajouterMembre.do">
            <forward name="success" path="/listeMembres.do"/>
            <forward name="error" path="/ajouterMembre.do"/>
        </action>
        
        <action path="/processAjouterEmprunt" 
                type="controller.ProcessAjouterEmpruntAction" 
                name="empruntForm" 
                scope="request"
                validate="true"
                input="/ajouterEmprunt.do">
            <forward name="success" path="/listeEmprunts.do"/>
            <forward name="error" path="/ajouterEmprunt.do"/>
        </action>
        
        <action path="/processModifierLivre" 
                type="controller.ProcessModifierLivreAction" 
                name="livreForm" 
                scope="request"
                validate="true"
                input="/modifierLivre.do">
            <forward name="success" path="/listeLivres.do"/>
            <forward name="error" path="/modifierLivre.do"/>
        </action>
        
        <action path="/processModifierEmprunt" 
                type="controller.ProcessModifierEmpruntAction" 
                name="empruntForm" 
                scope="request"
                validate="true"
                input="/modifierEmprunt.do">
            <forward name="success" path="/listeEmprunts.do"/>
            <forward name="error" path="/modifierEmprunt.do"/>
        </action>
        
        <action path="/retournerEmprunt" 
                type="controller.RetournerEmpruntAction" 
                scope="request">
            <forward name="success" path="/listeEmprunts.do"/>
            <forward name="error" path="/listeEmprunts.do"/>
        </action>
        
        <action path="/modifierLivre" 
                type="controller.ModifierLivreAction" 
                scope="request">
            <forward name="success" path="/pages/modifierLivre.jsp"/>
            <forward name="error" path="/error.jsp"/>
        </action>
        
        <action path="/modifierEmprunt" 
                type="controller.ModifierEmpruntAction" 
                scope="request">
            <forward name="success" path="/pages/modifierEmprunt.jsp"/>
            <forward name="error" path="/error.jsp"/>
        </action>
        
        <!-- Missing Action Mappings -->
        <action path="/modifierMembre" 
                type="controller.ModifierMembreAction" 
                scope="request">
            <forward name="success" path="/pages/modifierMembre.jsp"/>
            <forward name="error" path="/error.jsp"/>
        </action>
        
        <action path="/supprimerMembre" 
                type="controller.SupprimerMembreAction" 
                scope="request">
            <forward name="success" path="/listeMembres.do"/>
            <forward name="error" path="/listeMembres.do"/>
        </action>
        
        <action path="/supprimerLivre" 
                type="controller.SupprimerLivreAction" 
                scope="request">
            <forward name="success" path="/listeLivres.do"/>
            <forward name="error" path="/listeLivres.do"/>
        </action>
        
        <action path="/supprimerEmprunt" 
                type="controller.SupprimerEmpruntAction" 
                scope="request">
            <forward name="success" path="/listeEmprunts.do"/>
            <forward name="error" path="/listeEmprunts.do"/>
        </action>
        
        <action path="/processModifierMembre" 
                type="controller.ProcessModifierMembreAction" 
                name="membreForm" 
                scope="request"
                validate="true"
                input="/modifierMembre.do">
            <forward name="success" path="/listeMembres.do"/>
            <forward name="error" path="/modifierMembre.do"/>
        </action>
        
    </action-mappings>
    
    <!-- Message Resources -->
    <message-resources parameter="messages"/>
    
    <!-- Plugins -->
    <plug-in className="org.apache.struts.validator.ValidatorPlugIn">
        <set-property property="pathnames" value="/WEB-INF/validator-rules.xml,/WEB-INF/validation.xml"/>
    </plug-in>
    
</struts-config> 